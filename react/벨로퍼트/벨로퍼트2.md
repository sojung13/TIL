### 11. ë°°ì—´ ë Œë”ë§í•˜ê¸°

```react
import React from 'react';

function User({ user }) {
  return (
    <div>
      <b>{user.username}</b> <span>({user.email})</span>
    </div>
  );
}

// í•œ íŒŒì¼ ì•ˆì— ì—¬ëŸ¬ ê°œì˜ ì»´í¬ë„ŒíŠ¸ë¥¼ ì„ ì–¸í•´ë„ ê´œì°®ë‹¤!!
function UserList() {
  const users = [
    {
      id: 1,
      username: 'velopert',
      email: 'public.velopert@gmail.com'
    },
    {
      id: 2,
      username: 'tester',
      email: 'tester@example.com'
    },
    {
      id: 3,
      username: 'liz',
      email: 'liz@example.com'
    }
  ];

  return (
    <div>
      {users.map(user => (
        // ë¦¬ì•¡íŠ¸ì—ì„œ ë°°ì—´ì„ ë Œë”ë§í•  ë•ŒëŠ” keyë¼ëŠ” propsë¥¼ ì„¤ì •í•´ì•¼ í•œë‹¤.
        // key ê°’ì€ ê° ì›ì†Œë“¤ë§ˆë‹¤ ê°€ì§€ê³  ìˆëŠ” ê³ ìœ ê°’ìœ¼ë¡œ ì„¤ì •í•´ì•¼ í•œë‹¤!!
        // ì§€ê¸ˆì˜ ê²½ìš°ëŠ” idê°€ ê³ ìœ ê°’ì´ì§€ë§Œ, idê°€ ì—†ëŠ” ê²½ìš° ì•„ë˜ ì„¤ëª… ì°¸ì¡°
        <User user={user} key={user.id} />
      ))}
    </div>
  );
}

export default UserList;
```

- `map`ì€ ë°°ì—´ ì•ˆì˜ ê° ì›ì†Œë¥¼ ë³€í™˜í•  ë•Œ ì‚¬ìš©ë˜ë©°, ì´ ê³¼ì •ì—ì„œ ìƒˆë¡œìš´ ë°°ì—´ì´ ë§Œë“¤ì–´ì§„ë‹¤.



- ğŸ‘‰ idê°’ì´ ì—†ì–´ key ê°’ì„ ì„¤ì • ëª»í•  ë•ŒëŠ” ì½œë°± í•¨ìˆ˜ì˜ ë‘ë²ˆì§¸ íŒŒë¼ë¯¸í„°ì¸ indexë¥¼ keyë¡œ ì„¤ì •í•˜ë©´ ëœë‹¤.

```react
<div>
  {users.map((user, index) => (
    <User user={user} key={index} />
  ))}
</div>
```

- key ê°’ì„ ì„¤ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´, ìˆ˜ì •ë˜ì§€ ì•Šì€ ê¸°ì¡´ì˜ ê°’ì€ ê·¸ëŒ€ë¡œ ë‘ê³  ì›í•˜ëŠ” ê³³ì— ë‚´ìš©ì„ ì‚½ì…í•˜ê±°ë‚˜ ì‚­ì œê°€ ê°€ëŠ¥í•˜ë‹¤. ì¦‰, ë¹„íš¨ìœ¨ì ì¸ ìˆ˜ì •ì„ í”¼í•  ìˆ˜ ìˆë‹¤!!



----



### 12. useRefë¡œ ì»´í¬ë„ŒíŠ¸ ì•ˆì˜ ë³€ìˆ˜ ë§Œë“¤ê¸°

- `useRef` HOOKì€ DOMì„ ì„ íƒí•˜ëŠ” ìš©ë„ ì™¸ì—ë„, ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ ì¡°íšŒ ë° ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” ë³€ìˆ˜ë¥¼ ê´€ë¦¬í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
- `useRef`ë¡œ ê´€ë¦¬í•˜ëŠ” ë³€ìˆ˜ëŠ” ê°’ì´ ë°”ë€ë‹¤ê³  í•´ì„œ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ì§€ëŠ” ì•ŠëŠ”ë‹¤.
- ë¦¬ì•¡íŠ¸ ì»´í¬ë„ŒíŠ¸ì—ì„œì˜ ìƒíƒœëŠ” ìƒíƒœë¥¼ ë°”ê¾¸ëŠ” í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ê³  ë‚˜ì„œ ê·¸ ë‹¤ìŒ ë Œë”ë§ ì´í›„ë¡œ ì—…ë°ì´íŠ¸ëœ ìƒíƒœã„¹ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆëŠ” ë°˜ë©´, `useRef`ë¡œ ê´€ë¦¬í•˜ê³  ìˆëŠ” ë³€ìˆ˜ëŠ” ì„¤ì • í›„ ë°”ë¡œ ì¡°íšŒí•  ìˆ˜ ìˆë‹¤.
  - `setTimeout`, `setInterval`ì„ í†µí•´ì„œ ë§Œë“¤ì–´ì§„ `id`
  - ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒì„±ëœ ì¸ìŠ¤í„´ìŠ¤
  - scroll ìœ„ì¹˜

```react
// App.js
import React, { useRef } from 'react';
import UserList from './UserList';

function App() {
  const users = [
    {
      id: 1,
      username: 'velopert',
      email: 'public.velopert@gmail.com'
    },
    {
      id: 2,
      username: 'tester',
      email: 'tester@example.com'
    },
    {
      id: 3,
      username: 'liz',
      email: 'liz@example.com'
    }
  ];

  const nextId = useRef(4);
  const onCreate = () => {
    // ë‚˜ì¤‘ì— êµ¬í˜„ í•  ë°°ì—´ì— í•­ëª© ì¶”ê°€í•˜ëŠ” ë¡œì§
    // ...

    nextId.current += 1;
  };
  return <UserList users={users} />;
}

export default App;
```

```react
// UserList.js
import React from 'react';

function User({ user }) {
  return (
    <div>
      <b>{user.username}</b> <span>({user.email})</span>
    </div>
  );
}

function UserList({ users }) {
  return (
    <div>
      {users.map(user => (
        <User user={user} key={user.id} />
      ))}
    </div>
  );
}

export default UserList;
```

- `useRef`ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ëŠ” ë¦¬ë Œë”ë§ ì—†ì´ ë³€ìˆ˜ê°’ì˜ ë³€í™”ë¥¼ ì´ìš©í•˜ê¸° ìœ„í•¨ì´ë‹¤!



-----



### 13. ë°°ì—´ì— í•­ëª© ì¶”ê°€í•˜ê¸°

```react
import React, { useRef, useState } from 'react';
import UserList from './UserList';
import CreateUser from './CreateUser';

function App() {
  const [inputs, setInputs] = useState({
    username: '',
    email: ''
  });
  const { username, email } = inputs;
  const onChange = e => {
    const { name, value } = e.target;
    setInputs({
      ...inputs,
      [name]: value
    });
  };
  const [users, setUsers] = useState([
    {
      id: 1,
      username: 'velopert',
      email: 'public.velopert@gmail.com'
    },
    {
      id: 2,
      username: 'tester',
      email: 'tester@example.com'
    },
    {
      id: 3,
      username: 'liz',
      email: 'liz@example.com'
    }
  ]);

  const nextId = useRef(4);
  const onCreate = () => {
    const user = {
      id: nextId.current,
      username,
      email
    };
    setUsers([...users, user]);
   	// concat í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‘ì„±í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤!!
    // concat í•¨ìˆ˜ëŠ” ê¸°ì¡´ì˜ ë°°ì—´ì„ ìˆ˜ì •í•˜ì§€ ì•Šê³ , ìƒˆë¡œìš´ ì›ì†Œê°€ ì¶”ê°€ëœ ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¤ì–´ì¤€ë‹¤.
   	// setUsers(users.concat(user));
      

    setInputs({
      username: '',
      email: ''
    });
    nextId.current += 1;
  };
  return (
    <>
      <CreateUser
        username={username}
        email={email}
        onChange={onChange}
        onCreate={onCreate}
      />
      <UserList users={users} />
    </>
  );
}

export default App;
```

![image-20220615010736165](ë²¨ë¡œí¼íŠ¸2.assets/image-20220615010736165.png)

